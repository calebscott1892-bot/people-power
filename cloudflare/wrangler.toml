name = "peoplepower-api"
main = "src/index.js"
compatibility_date = "2025-12-28"

# This scaffold is intentionally non-breaking to the current Node dev server.
# It will be wired in once endpoints are implemented and the frontend is switched.

[durable_objects]
bindings = [
  { name = "CHAT", class_name = "ChatRoom" },
  { name = "ENTITY_STORE", class_name = "EntityStore" }
]

[[migrations]]
tag = "v1"
new_classes = ["ChatRoom"]

[[migrations]]
tag = "v2"
new_classes = ["EntityStore"]

# Suggested bindings (configure when youâ€™re ready):
# [vars]
# APP_ENV = "dev"

# Postgres via Hyperdrive (configure later)
# [[hyperdrive]]
# binding = "HYPERDRIVE"
# id = "..."

# R2 (configure later)
# [[r2_buckets]]
# binding = "UPLOADS"
# bucket_name = "peoplepower-uploads"
